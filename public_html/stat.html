<html>

<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
    <title>/stat/</title>
    <style>
        body {
            background-color: black;
            color: white;
        }

        div {
            direction: rtl;
            max-width: 800px;
            margin: auto;
            margin-top: 40px;
            font-size: large;
        }

        .box {
            padding: 10px;
            border-style: hidden double hidden hidden;
            border-color: darkorchid;
        }

        a {
            color: white;
        }

        code {
            background-color: rgb(73, 73, 73);
            display: block;
            direction: ltr;
        }

        div {
            direction: ltr;
        }

        p {
            word-wrap: break-word;
        }

        span {
            color: rgb(0, 255, 21);
            display: block;
            font-size: larger;
        }
    </style>
</head>

<body>
    <h1 style="text-align: center;">v2ray</h1>
    <div id="content">
    </div>
    <script>
        const urlParam = new URLSearchParams(window.location.search).get('uuid');
        console.log(urlParam)
        if (urlParam != null) {
            iranp443 = `{"add":"${makeid(5)}.ir.choskosh.cfd","aid":"0","alpn":"","fp":"","host":"","id":"${urlParam}","net":"ws","path":"/ws/","port":"443","ps":"iranP443:usa","scy":"auto","sni":"","tls":"tls","type":"","v":"2"}`
            iranp80 = `{"add": "${makeid(5)}.ir.choskosh.cfd", "ps": "iranP80:usa", "scy": "auto", "type": "", "sni": "", "path": "/ws/","port": 80, "v": 2, "host": "", "tls": "none", "id": "${urlParam}", "net": "ws"}`
            cloudflare = `{"add": "${makeid(5)}.choskosh.cfd", "ps": "cloudflare:usa", "scy": "auto", "type": "", "sni": "", "path": "/ws/","port": 443, "v": 2, "host": "", "tls": "tls", "id": "${urlParam}", "net": "ws"}`
            function makeid(length) {
                let result = '';
                const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
                const charactersLength = characters.length;
                let counter = 0;
                while (counter < length) {
                    result += characters.charAt(Math.floor(Math.random() * charactersLength));
                    counter += 1;
                }
                return result;
            }
            document.getElementById("content").innerHTML = `
                <p><span>- iran relay port 443 (set allowInsecure to true)</span>
                    vmess://${btoa(iranp443)}
                    </p>

                <p><span>- iran relay port 80</span>
                    vmess://${btoa(iranp80)}
                    </p>

                <p><span>- cloudflare</span>
                    vmess://${btoa(cloudflare)}
                    </p>    
            `



        }


    </script>



</body>

</html>